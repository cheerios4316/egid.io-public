## Client-side component logic

### Introduction

Sometimes defining client-side logic is necessary to make sure your application functions properly.

Dumpsterfire handles the client-side application life-cycle through a script (found in `dumpsterfire-pages` in `src/js/Application.ts`)
that scans the page and assigns a client-side instance to each element of components that implements one.

It also instantiates a MutationObserver that scans the DOM tree for any new uninitialized components and creates and
assigns a client-side instance dynamically.

### Client-side component class

This example comes from the minimal setup generated by the component generation script for the client-side logic of the
generated component:

```ts
import { Component } from "dumpsterfire/Component";

export class SomeComponent extends Component {
    onClick(e: JQuery.ClickEvent) {
    }

    protected setData(): void {
        // this runs first and sets data for the instance.
        // it is safer to set data here rather than in the class properties directly
    }

    protected bindEvents(): void {
        // this runs after setData(). this is where you define binds, events, on load logic, everything
        // necessary to make the client-side logic for the component work
    }
}

window.SomeComponent
```

In this example, two *optional* framework-defined hooks can be seen: `setData` and `bindEvents`. A description for each defined hook follows.

### Hooks and properties

#### setData

Runs within the constructor, should be used to set instance data for the component.

e.g. 
```ts
protected setData(): void {
    this.popupButton = this.$element.find('.popup-button')
}
```

#### bindEvents

Runs after setData, should be used to set event handling, timeouts, intervals etc.

e.g.
```ts
protected bindEvents(): void {
    this.popupButton && this.popupButton.on('click', (e) => {
        alert("You pressed the popup");
    })
}
```

#### onClick

Just a callback that runs on click on the component.


#### $element

`this.$element` is defined in the base Component class and holds a reference to a JQuery object that holds the current component. \
This is useful in cases such as the one described above in the `setData` example, in which we need to use a query selector on the component.

> More hooks and properties are on the way: later on, many other hooks and properties will be introduced, such as
`onMouseEnter`, `onMouseLeave`, `onFocus`, `onUnfocus` and many more, to make the development experience as smooth and
convenient as possible.